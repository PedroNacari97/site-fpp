{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}Painel do Cliente{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'painel_cliente/css/main.css' %}">
    {% block extra_css %}{% endblock %}
</head>
<body class="{% block body_class %}{% endblock %}">
    <div class="app-shell">
        <div class="sidebar-overlay" data-sidebar-overlay></div>

        <aside class="sidebar" data-sidebar>
            <div class="sidebar-header">
                <h1 class="sidebar-title">NCfly</h1>
                <button class="icon-button sidebar-close" type="button" aria-label="Fechar menu" data-sidebar-close>
                    <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                        <path d="M6 6l12 12M18 6l-12 12" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" />
                    </svg>
                </button>
            </div>

            <nav class="sidebar-nav">
                {% url 'painel_dashboard' as dashboard_url %}
                {% url 'painel_emissoes' as emissoes_url %}
                {% url 'painel_hoteis' as hoteis_url %}
                {% url 'login_custom' as login_url %}

                {% if request.user.is_authenticated %}
                    <a class="nav-item {% if request.path == dashboard_url %}is-active{% endif %}" href="{{ dashboard_url }}">
                        <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M3 12 12 3l9 9" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" />
                            <path d="M9 21V9h6v12" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" />
                        </svg>
                        <span>Dashboard</span>
                    </a>
                    <a class="nav-item {% if request.path == emissoes_url %}is-active{% endif %}" href="{{ emissoes_url }}">
                        <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M4 4h16v16H4z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" />
                            <path d="M8 2v4M16 2v4M4 10h16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" />
                        </svg>
                        <span>Emissões</span>
                    </a>
                    <a class="nav-item {% if request.path == hoteis_url %}is-active{% endif %}" href="{{ hoteis_url }}">
                        <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M3 20h18" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" />
                            <path d="M4 20V7a3 3 0 0 1 3-3h10a3 3 0 0 1 3 3v13" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" />
                            <path d="M8 14h.01M12 14h.01M16 14h.01" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" />
                        </svg>
                        <span>Hotéis</span>
                    </a>
                {% else %}
                    <a class="nav-item {% if request.path == login_url %}is-active{% endif %}" href="{{ login_url }}">
                        <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" />
                            <path d="M10 17l5-5-5-5" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" />
                            <path d="M15 12H3" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" />
                        </svg>
                        <span>Login</span>
                    </a>
                {% endif %}
            </nav>
        </aside>

        <div class="app-shell__content">
            <header class="app-header">
                <div class="app-header__left">
                    <button class="icon-button menu-button" type="button" aria-label="Abrir menu" data-sidebar-open>
                        <svg class="icon" viewBox="0 0 24 24" aria-hidden="true">
                            <path d="M4 6h16M4 12h16M4 18h16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" />
                        </svg>
                    </button>
                    <h2 class="app-header__title">
                        {% block page_title %}Painel do Cliente{% endblock %}
                    </h2>
                </div>
                <div class="app-header__actions">
                    {% if request.user.is_authenticated %}
                        <form action="{% url 'logout' %}" method="post">{% csrf_token %}
                            <button class="btn btn--outline btn--sm" type="submit">Logout</button>
                        </form>
                    {% endif %}
                </div>
            </header>

            <main class="app-main">
                {% block content %}{% endblock %}
            </main>
        </div>
    </div>
    <script src="{% static 'gestao/js/forms.js' %}" defer></script>
    <script type="module" src="{% static 'painel_cliente/js/app.js' %}" defer></script>
    {% block extra_js %}{% endblock %}
</body>
</html>
