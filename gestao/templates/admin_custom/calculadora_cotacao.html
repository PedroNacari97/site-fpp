{% extends "admin_custom/base_admin.html" %}
{% block title %}Calculadora de Cotação{% endblock %}
{% block header_title %}Calculadora de Cotação{% endblock %}
{% block header_subtitle %}<p class="page-subtitle">Simule valores com campos alinhados e retorno visual imediato.</p>{% endblock %}
{% block menu_calculadora %}bg-zinc-700 text-white{% endblock %}

{% block content %}
<section class="surface-card stacked">
    <div class="section-heading">
        <div>
            <p class="eyebrow">Simulação</p>
            <h2 class="section-title">Calculadora de Cotação</h2>
        </div>
    </div>
    <form method="post" class="stacked">
        {% csrf_token %}
        <div class="form-grid">
            <div class="form-field">
                <label class="form-label" for="{{ form.valor_passagem.id_for_label }}">Valor passagem (R$)</label>
                {{ form.valor_passagem }}
            </div>
            <div class="form-field">
                <label class="form-label" for="{{ form.taxas.id_for_label }}">Taxas (R$)</label>
                {{ form.taxas }}
            </div>
            <div class="form-field">
                <label class="form-label" for="{{ form.milhas.id_for_label }}">Milhas</label>
                {{ form.milhas }}
            </div>
            <div class="form-field">
                <label class="form-label" for="{{ form.valor_milheiro.id_for_label }}">Valor milheiro (R$)</label>
                {{ form.valor_milheiro }}
            </div>
            <div class="form-field">
                <label class="form-label" for="{{ form.parcelas.id_for_label }}">Parcelas</label>
                {{ form.parcelas }}
            </div>
            <div class="form-field">
                <label class="form-label" for="{{ form.juros.id_for_label }}">Juros (%)</label>
                {{ form.juros }}
            </div>
            <div class="form-field">
                <label class="form-label" for="{{ form.desconto.id_for_label }}">Desconto (%)</label>
                {{ form.desconto }}
            </div>
        </div>
        <div class="form-actions">
            <button class="btn-primary" type="submit">Calcular</button>
        </div>
    </form>
    {% if resultado %}
    <div class="section-divider"></div>
    <div class="stat-grid">
        <div class="stat-card">
            <p class="stat-label">Valor parcelado</p>
            <p class="stat-value">R$ {{ resultado.valor_parcelado }}</p>
        </div>
        <div class="stat-card">
            <p class="stat-label">Valor à vista</p>
            <p class="stat-value">R$ {{ resultado.valor_vista }}</p>
        </div>
        <div class="stat-card">
            <p class="stat-label">Valor da parcela</p>
            <p class="stat-value">R$ {{ resultado.parcela }}</p>
        </div>
        <div class="stat-card">
            <p class="stat-label">Economia</p>
            <p class="stat-value">R$ {{ resultado.economia }}</p>
        </div>
    </div>
    {% endif %}
</section>
{% endblock %}
