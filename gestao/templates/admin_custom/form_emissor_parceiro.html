{% extends "admin_custom/base_admin.html" %}
{% load static %}
{% block title %}{% if form.instance.pk %}Editar Emissor Parceiro{% else %}Novo Emissor Parceiro{% endif %}{% endblock %}
{% block header_title %}Emissores Parceiros{% endblock %}
{% block extra_head %}
<link rel="stylesheet" href="{% static 'gestao/formulario_base_gestao.css' %}">
{% endblock %}
{% block content %}
<div class="form-wrapper">
<form method="post">
    {% csrf_token %}
    <div class="form-title">{% if form.instance.pk %}Editar Emissor Parceiro{% else %}Novo Emissor Parceiro{% endif %}</div>
    <div class="form-group single">
        <label class="form-label" for="{{ form.nome.id_for_label }}">{{ form.nome.label }}</label>
        {{ form.nome }}
    </div>
    <div class="form-group single">
        <label class="form-label" for="{{ form.usuario.id_for_label }}">Usuário vinculado</label>
        {{ form.usuario }}
        <p class="helper-text">Defina o usuário que acessará a sessão do parceiro.</p>
    </div>
    <div class="form-group single">
        <label class="form-label" for="{{ form.programas.id_for_label }}">Programas de fidelidade</label>
        {{ form.programas }}
        <p class="helper-text">Selecione os programas disponíveis para a empresa (opcional).</p>
    </div>
    <div class="form-group single">
        <label class="form-label" for="{{ form.ativo.id_for_label }}">Ativo</label>
        {{ form.ativo }}
    </div>
    <div class="form-group single">
        <label class="form-label" for="{{ form.observacoes.id_for_label }}">Observações</label>
        {{ form.observacoes }}
    </div>
    <div class="form-actions">
        {% if form.instance.pk %}
            <a class="btn btn--ghost" href="{% url 'admin_emissor_parceiro_movimentacoes' form.instance.pk %}">Movimentações</a>
        {% endif %}
        <button type="submit" class="btn">Salvar</button>
    </div>
</form>
</div>
{% endblock %}
